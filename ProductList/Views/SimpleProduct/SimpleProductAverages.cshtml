@model List<ProductList.Models.SimpleProduct>

@{
    ViewBag.Title = "ProductAveragePrice";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<h3>Product Average Prices</h3>

<div style="height: 300px; overflow-y: scroll;">
    <table class="table table-condensed table-hover" id="productTable">
        <thead style="position: sticky; top: 0; background-color: lightgrey;">
            <tr>
                <th width="33%">Product ID</th>
                <th width="33%">Product Name</th>
                <th width="33%">Average Price</th>
            </tr>
        </thead>
        <tbody>
            @foreach (var simpleProduct in Model)
                {
            <tr>
                <td>@simpleProduct.SimpleProductID</td>
                <td>@simpleProduct.SimpleProductName</td>
                <td>R @Math.Round(simpleProduct.SimplePrices.Average(x => x.SimplePrice), 2)</td>
            </tr>
                }
        </tbody>
    </table>
</div>